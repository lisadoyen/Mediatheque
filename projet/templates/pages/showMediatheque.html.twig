{% extends "base.html.twig" %}
{% block body %}
    <div class="container">
        <h1 style="text-align: center">Récapitulatifs des Articles</h1><br>
        <div class=>
                <label>Afficher </label>
                <input type="number" name="limite" value="10" > article(s)
                <a href="{#{ path('article_add') }#}" class="btn btn-primary m-1 p-1"> Ajouter un Article </a>
        </div><br>
        <div>
            <table class="table table-striped table-bordered">
                <caption>Récapitulatifs des Articles</caption>
                <thead class="thead-dark">
                <tr>
                    <th>Code Livre</th>
                    <th>Code ISBN</th>
                    <th>Titre / Designation</th>
                    <th>Description</th>
                    <th>Support</th>
                    <th>Disponible</th>
                    <th>Nb sortie</th>
                    <th>Date de retrait</th>
                    <th>Date achat</th>
                    <th>Date de création</th>
                    <th>Nom auteur</th>
                    <th>Prenom auteur</th>
                    <th>Libelle genre</th>
                    <th>nom user</th>

                </tr>
                </thead>
                <tbody>
                {% if articles is not empty %}
                    {% for article in articles | slice(0, 10) %}
                        <tr>
                            <td>{{article.CodeLivre}}</td>
                            <td>{{article.CodeIsbn}}</td>
                            <td>{{article.titreDesignation}}</td>
                            <td>{{article.descriptionLivre}}</td>
                            <td>{{article.supportLivre}}</td>
                            <td>{{article.disponible}}</td>
                            <td>{{article.nombreSorties}}</td>
                            <td>{{article.dateDernierRetrait | date('d-m-Y')}}</td>
                            <td>{{article.dateAchat | date('d-m-Y')}}</td>
                            <td>{{article.dateCreation | date('d-m-Y')}}</td>
                            <td>{{article.fkIdAuteur.nom}}</td>
                            <td>{{article.fkIdAuteur.prenom}}</td>
                            <td>{{article.fkIdGenre.libelleGenre}}</td>
                            <td>
                                <a href="{#{ path('article_edit', {id: article.id}) }#}" class="btn btn-primary">Modifier</a>
                                <a href="{#{ path('article_edit', {id: article.id}) }#}" class="btn btn-danger">Supprimer</a>
                            </td>
                        </tr>
                    {% endfor %}
                {% else %}
                    <tr class="table-warning"><td>Pas d article</td></tr>
                {% endif %}
                </tbody>
            </table>
        </div>
    </div>
{% endblock %}